var E=Object.defineProperty,L=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var h=(s,o,e)=>o in s?E(s,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[o]=e,f=(s,o)=>{for(var e in o||(o={}))A.call(o,e)&&h(s,e,o[e]);if(B)for(var e of B(o))T.call(o,e)&&h(s,e,o[e]);return s},j=(s,o)=>L(s,b(o));var u=(s,o,e)=>new Promise((r,n)=>{var c=t=>{try{i(e.next(t))}catch(d){n(d)}},l=t=>{try{i(e.throw(t))}catch(d){n(d)}},i=t=>t.done?r(t.value):Promise.resolve(t.value).then(c,l);i((e=e.apply(s,o)).next())});import{B as C,a as D}from"./index.24728625.js";import{k as S,t as $,p as K,b as R}from"./endpoint.data.75dd7889.js";import{B as O,h as U}from"./useForm.d0a5ee18.js";import{_ as V,h as z}from"./index.c0a3bc85.js";import{A as I,z as g,u as m,y as N,a0 as k,B as P,a1 as W,a5 as F,k as _,a4 as G,ad as H}from"./vendor.52d192f7.js";import"./useWindowSizeFn.34f605a6.js";/* empty css               *//* empty css              *//* empty css               *//* empty css               */import"./index.1c6370f0.js";/* empty css               *//* empty css                */import"./index.1c8e4638.js";import"./download.0ca988cf.js";const q=I({name:"KafkaModal",components:{BasicModal:C,BasicForm:O},emits:["success","register"],setup(s,{emit:o}){const e=g(!0),r=g("");let n=g(!1);const{createSuccessModal:c}=z(),[l,{setFieldsValue:i,resetFields:t,validate:d}]=U({labelWidth:140,schemas:S,showActionButtonGroup:!1,actionColOptions:{span:23}}),[v,{setModalProps:p,closeModal:w}]=D(a=>u(this,null,function*(){yield t(),p({confirmLoading:!1,width:1e3,minHeight:300}),e.value=!!(a==null?void 0:a.isUpdate),m(e)&&(r.value=a.record.id,yield i(f({},a.record)))})),M=N(()=>m(e)?"\u7F16\u8F91Kafka\u7AEF\u70B9":"\u65B0\u589EKafka\u7AEF\u70B9");function y(){return u(this,null,function*(){const a=yield d();n.value=!0;try{yield $(a),c({title:"\u63D0\u793A",content:"\u8FDE\u63A5\u6210\u529F"})}finally{n.value=!1}})}function x(){return u(this,null,function*(){try{const a=yield d();a.type=6,console.log(a),p({confirmLoading:!0}),m(e)?(a.id=r.value,yield K(a)):yield R(a),w(),o("success",{isUpdate:m(e),values:j(f({},a),{id:r.value})})}finally{p({confirmLoading:!1})}})}return{registerModal:v,registerForm:l,getTitle:M,linkTestLoading:n,handleLinkTest:y,handleSubmit:x}}}),J=H("\u6D4B\u8BD5\u8FDE\u63A5");function Q(s,o,e,r,n,c){const l=k("BasicForm"),i=k("a-button"),t=k("BasicModal");return P(),W(t,G(s.$attrs,{onRegister:s.registerModal,title:s.getTitle,onOk:s.handleSubmit}),{insertFooter:F(()=>[_(i,{type:"dashed",onClick:s.handleLinkTest,loading:s.linkTestLoading},{default:F(()=>[J]),_:1},8,["onClick","loading"])]),default:F(()=>[_(l,{onRegister:s.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var pe=V(q,[["render",Q]]);export{pe as default};
