var B=(o,D,c)=>new Promise((b,A)=>{var _=m=>{try{f(c.next(m))}catch(p){A(p)}},a=m=>{try{f(c.throw(m))}catch(p){A(p)}},f=m=>m.done?b(m.value):Promise.resolve(m.value).then(_,a);f((c=c.apply(o,D)).next())});import{B as w,a as h}from"./index.24728625.js";import{g}from"./index.85fdaa94.js";import{_ as N}from"./index.c0a3bc85.js";import{A as v,z as C,y as H,a0 as k,B as s,a1 as y,a5 as u,k as i,ad as l,J as r,D as F,ac as d,H as M,ao as x,aa as S,a4 as T}from"./vendor.52d192f7.js";import"./useWindowSizeFn.34f605a6.js";const z=v({name:"PipelineDescModal",components:{BasicModal:w},emits:["success","register"],setup(o,{emit:D}){const c=C({}),b=C([]),[A,{setModalProps:_}]=h(m=>B(this,null,function*(){b.value=[];let p=document.body.clientWidth-300;_({showOkBtn:!1,confirmLoading:!1,width:p,height:400});let E=yield g(m);c.value=E;let e=E.rules;for(let t of e)t.dataEncoder==="0"?t.dataEncoderName="JSON":t.dataEncoderName="\u8868\u8FBE\u5F0F",t.columnNameFormatter==="0"?t.columnNameFormatterName="\u5C0F\u5199":t.columnNameFormatter==="1"?t.columnNameFormatterName="\u5927\u5199":t.columnNameFormatter==="2"&&(t.columnNameFormatterName="\u9A7C\u5CF0"),t.dateFormatter==="2006-01-02"?t.dateFormatter="yyyy-MM-dd":t.dateFormatter==="2006:01:02"?t.dateFormatter="yyyy:MM:dd":t.dateFormatter==="2006/01/02"?t.dateFormatter="yyyy/MM/dd":t.dateFormatter==="2006 01 02"?t.dateFormatter="yyyy MM dd":t.dateFormatter==="01022006"?t.dateFormatter="MM/dd/yyyy":t.dateFormatter==="20060102"&&(t.dateFormatter="yyyyMMdd"),t.datetimeFormatter==="2006-01-02 15:04:05.999999999"?t.datetimeFormatter="yyyy-MM-dd HH:mm:ss.SSS":t.datetimeFormatter==="2006-01-02 15:04:05"?t.datetimeFormatter="yyyy-MM-dd HH:mm:ss":t.datetimeFormatter==="2006-01-02 15:04"?t.datetimeFormatter="yyyy-MM-dd HH:mm":t.datetimeFormatter==="2006:01:02 15:04:05.999999999"?t.datetimeFormatter="yyyy:MM:dd HH:mm:ss.SSS":t.datetimeFormatter==="2006:01:02 15:04:05"?t.datetimeFormatter="yyyy:MM:dd HH:mm:ss":t.datetimeFormatter==="2006:01:02 15:04"?t.datetimeFormatter="yyyy:MM:dd HH:mm":t.datetimeFormatter==="2006/01/02 15:04:05.999999999"?t.datetimeFormatter="yyyy/MM/dd HH:mm:ss.SSS":t.datetimeFormatter==="2006/01/02 15:04:05"?t.datetimeFormatter="yyyy/MM/dd HH:mm:ss":t.datetimeFormatter==="2006/01/02 15:04"?t.datetimeFormatter="yyyy/MM/dd HH:mm":t.datetimeFormatter==="01/2006/02 15:04:05.999999999"?t.datetimeFormatter="MM/dd/yyyy HH:mm:ss.SSS":t.datetimeFormatter==="01/2006/02 15:04:05"?t.datetimeFormatter="MM/dd/yyyy HH:mm:ss":t.datetimeFormatter==="01/2006/02 15:04"&&(t.datetimeFormatter="MM/dd/yyyy HH:mm"),t.redisStructure==="0"?t.redisStructureName="String":t.redisStructure==="1"?t.redisStructureName="Hash":t.redisStructure==="2"?t.redisStructureName="List":t.redisStructure==="3"?t.redisStructureName="Set":t.redisStructure==="4"&&(t.redisStructureName="Sorted Set"),t.redisKeyBuilder==="0"?t.redisKeyBuilderName="\u4F7F\u7528\u5217\u503C":t.redisKeyBuilder==="1"&&(t.redisKeyBuilderName="\u8868\u8FBE\u5F0F");b.value=e})),a=H(()=>"\u7BA1\u9053\u8BE6\u60C5");function f(){D("success",{})}return{onCancel:f,registerModal:A,descData:c,getTitle:a,transformRuleItemList:b}}}),K={key:0},L={key:1},I={key:2},R=l("\u544A\u8B66\u5185\u5BB9\uFF1A "),P={key:0},W=l(" \xA0\xA0"),V={key:1},G=l(" \xA0\xA0"),O={key:2},j=l(" \xA0\xA0"),$={key:3},q=M("br",null,null,-1);function J(o,D,c,b,A,_){const a=k("a-descriptions-item"),f=k("a-badge"),m=k("a-descriptions"),p=k("a-textarea"),E=k("BasicModal");return s(),y(E,T(o.$attrs,{onRegister:o.registerModal,title:o.getTitle,onCancel:o.onCancel}),{default:u(()=>[i(m,{bordered:"",column:1,size:"small",style:{"word-break":"break-all","word-wrap":"break-word"}},{default:u(()=>[i(a,{label:"\u540D\u79F0"},{default:u(()=>[l(r(o.descData.name),1)]),_:1}),i(a,{label:"\u6570\u636E\u6E90"},{default:u(()=>[l(r(o.descData.sourceName),1)]),_:1}),i(a,{label:"\u63A5\u6536\u7AEF\u70B9"},{default:u(()=>[l(r(o.descData.endpointName),1)]),_:1}),o.descData.alarmMailList||o.descData.alarmWebhook||o.descData.alarmWebhookSecretKey?(s(),y(a,{key:0,label:"\u544A\u8B66\u8BBE\u7F6E"},{default:u(()=>[o.descData.alarmMailList?(s(),F("div",K,"\u90AE\u7BB1\uFF1A"+r(o.descData.alarmMailList),1)):d("",!0),o.descData.alarmWebhook?(s(),F("div",L,"\u9489\u9489\uFF1A"+r(o.descData.alarmWebhook),1)):d("",!0),o.descData.alarmWebhookSecretKey?(s(),F("div",I,"\u9489\u9489\u79D8\u94A5\uFF1A"+r(o.descData.alarmWebhookSecretKey),1)):d("",!0),M("div",null,[R,o.descData.alarmItemList.indexOf("1")!==-1?(s(),F("span",P,"\u5F02\u5E38\u4FE1\u606F")):d("",!0),W,o.descData.alarmItemList.indexOf("2")!==-1?(s(),F("span",V,"\u5168\u91CF\u540C\u6B65\u7ED3\u679C")):d("",!0),G,o.descData.alarmItemList.indexOf("3")!==-1?(s(),F("span",O,"\u5B9E\u65F6\u540C\u6B65\u65E5\u62A5")):d("",!0),j,o.descData.alarmItemList.indexOf("4")!==-1?(s(),F("span",$,"\u96C6\u7FA4\u8282\u70B9\u53D8\u52A8")):d("",!0)])]),_:1})):d("",!0),i(a,{label:"\u5B9E\u65F6\u5904\u7406\u8BBE\u7F6E"},{default:u(()=>[l("\u6570\u636E\u53D1\u9001\u9891\u7387\uFF1A"+r(o.descData.streamFlushInterval)+"(\u6BEB\u79D2)\xA0\xA0\xA0\xA0\u6BCF\u6279\u53D1\u9001\u6761\u6570\uFF1A"+r(o.descData.streamBulkSize),1)]),_:1}),i(a,{label:"\u5168\u91CF\u5904\u7406\u8BBE\u7F6E"},{default:u(()=>[l("\u5E76\u53D1\u6570\uFF1A"+r(o.descData.batchCoroutines)+"\xA0\xA0\xA0\xA0\u6BCF\u6279\u5904\u7406\u6761\u6570\uFF1A"+r(o.descData.batchBulkSize),1)]),_:1}),i(a,{label:"\u89C4\u5219/\u811A\u672C"},{default:u(()=>[(s(!0),F(S,null,x(o.transformRuleItemList,(e,t)=>(s(),y(m,{bordered:"",size:"small",column:1,style:{"word-break":"break-all","word-wrap":"break-word","margin-bottom":"20px"}},{default:u(()=>[i(a,{label:"\u5E8F\u53F7"},{default:u(()=>[i(f,{status:"processing"}),l(" "+r(t+1),1)]),_:2},1024),i(a,{label:"\u8868\u540D"},{default:u(()=>[l(r(e.key),1)]),_:2},1024),i(a,{label:"\u7C7B\u578B"},{default:u(()=>[l(r(e.typeName),1)]),_:2},1024),e.type===0&&e.excludeColumnList.length>0?(s(),y(a,{key:0,label:"\u6392\u9664\u5217"},{default:u(()=>[l(r(e.excludeColumnList),1)]),_:2},1024)):d("",!0),e.type===0?(s(),y(a,{key:1,label:"\u6570\u636E\u7F16\u7801"},{default:u(()=>[l(r(e.dataEncoderName),1)]),_:2},1024)):d("",!0),e.type===0&&e.dataEncoder=="0"?(s(),y(a,{key:2,label:"\u5217\u540D\u8F6C\u6362\u89C4\u5219"},{default:u(()=>[l(r(e.columnNameFormatterName),1)]),_:2},1024)):d("",!0),e.type===0&&e.dataEncoder=="1"?(s(),y(a,{key:3,label:"\u6570\u636E\u8868\u8FBE\u5F0F"},{default:u(()=>[l(r(e.dataExpression),1)]),_:2},1024)):d("",!0),e.type===0&&e.columnMappingGroups.length>0?(s(),y(a,{key:4,label:"\u5217\u540D\u6620\u5C04"},{default:u(()=>[l(r(e.columnMappingGroups),1)]),_:2},1024)):d("",!0),e.type===0&&e.additionalColumnValueMappingGroups.length>0?(s(),y(a,{key:5,label:"\u9644\u52A0\u952E\u503C"},{default:u(()=>[l(r(e.additionalColumnValueMappingGroups),1)]),_:2},1024)):d("",!0),e.type===0?(s(),y(a,{key:6,label:"\u65E5\u671F\u683C\u5F0F"},{default:u(()=>[l(r(e.dateFormatter),1)]),_:2},1024)):d("",!0),e.type===0?(s(),y(a,{key:7,label:"\u65E5\u671F\u65F6\u95F4\u683C\u5F0F"},{default:u(()=>[l(r(e.datetimeFormatter),1)]),_:2},1024)):d("",!0),e.type===0&&e.orderColumn?(s(),y(a,{key:8,label:"\u6392\u5E8F\u5217"},{default:u(()=>[l(r(e.orderColumn),1)]),_:2},1024)):d("",!0),e.type===0&&o.descData.endpointType===1?(s(),y(a,{key:9,label:"Redis\u5C5E\u6027"},{default:u(()=>[i(m,{bordered:"",size:"small",column:1,style:{"word-break":"break-all","word-wrap":"break-word"}},{default:u(()=>[i(a,{label:"\xA0\xA0\u6570\u636E\u7C7B\u578B"},{default:u(()=>[l(r(e.redisStructureName),1)]),_:2},1024),e.redisKeyPrefix?(s(),y(a,{key:0,label:"\xA0\xA0key\u524D\u7F00"},{default:u(()=>[l(r(e.redisKeyPrefix),1)]),_:2},1024)):d("",!0),e.redisStructure==="0"?(s(),y(a,{key:1,label:"\xA0\xA0key\u751F\u6210\u65B9\u5F0F"},{default:u(()=>[l(r(e.redisKeyBuilderName),1)]),_:2},1024)):d("",!0),e.redisStructure==="0"&&e.redisKeyBuilder==="0"?(s(),y(a,{key:2,label:"\xA0\xA0key\u5217"},{default:u(()=>[l(r(e.redisKeyColumn),1)]),_:2},1024)):d("",!0),e.redisStructure==="0"&&e.redisKeyBuilder==="1"?(s(),y(a,{key:3,label:"\xA0\xA0key\u751F\u6210\u8868\u8FBE\u5F0F"},{default:u(()=>[l(r(e.redisKeyExpression),1)]),_:2},1024)):d("",!0),e.redisStructure==="1"||e.redisStructure==="2"||e.redisStructure==="3"||e.redisStructure==="4"?(s(),y(a,{key:4,label:"\xA0\xA0key\u540D\u79F0"},{default:u(()=>[l(r(e.redisKeyFixValue),1)]),_:2},1024)):d("",!0),e.redisStructure==="1"?(s(),y(a,{key:5,label:"\xA0\xA0field\u524D\u7F00"},{default:u(()=>[l(r(e.redisHashFieldPrefix),1)]),_:2},1024)):d("",!0),e.redisStructure==="1"?(s(),y(a,{key:6,label:"\xA0\xA0field\u5217"},{default:u(()=>[l(r(e.redisHashFieldColumn),1)]),_:2},1024)):d("",!0),e.redisStructure==="4"?(s(),y(a,{key:7,label:"\xA0\xA0score\u5217"},{default:u(()=>[l(r(e.redisSortedSetScoreColumn),1)]),_:2},1024)):d("",!0)]),_:2},1024)]),_:2},1024)):d("",!0),e.type===0&&o.descData.endpointType===2?(s(),y(a,{key:10,label:"MongoDB\u5C5E\u6027\uFF1A"},{default:u(()=>[i(m,{bordered:"",size:"small",column:1,style:{"word-break":"break-all","word-wrap":"break-word"}},{default:u(()=>[i(a,{label:"\xA0\xA0Database"},{default:u(()=>[l(r(e.mongodbDatabase),1)]),_:2},1024),i(a,{label:"\xA0\xA0Collection"},{default:u(()=>[l(r(e.mongodbCollection),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)):d("",!0),e.type===0&&o.descData.endpointType===3?(s(),y(a,{key:11,label:"ES\u5C5E\u6027"},{default:u(()=>[i(m,{bordered:"",size:"small",column:1,style:{"word-break":"break-all","word-wrap":"break-word"}},{default:u(()=>[i(a,{label:"\xA0\xA0\u81EA\u52A8\u521B\u5EFA\u7D22\u5F15"},{default:u(()=>[l(r(e.esIndexBuildType==="0"?"\u5426(\u4F7F\u7528\u5DF2\u5B58\u5728\u7D22\u5F15)":"\u662F"),1)]),_:2},1024),i(a,{label:"\xA0\xA0\u7D22\u5F15\u540D\u79F0"},{default:u(()=>[l(r(e.esIndexName),1)]),_:2},1024),e.esIndexMappingGroups?(s(),y(a,{key:0,label:"\xA0\xA0\u7D22\u5F15Mappings"},{default:u(()=>[(s(!0),F(S,null,x(e.esIndexMappingGroups,n=>(s(),y(m,{bordered:"",size:"small",column:1,style:{"word-break":"break-all","word-wrap":"break-word","margin-bottom":"20px"}},{default:u(()=>[i(a,{label:"\u5217"},{default:u(()=>[l(r(n.column),1)]),_:2},1024),i(a,{label:"ES\u5B57\u6BB5\u540D"},{default:u(()=>[l(r(n.esField),1)]),_:2},1024),i(a,{label:"ES\u5B57\u6BB5\u7C7B\u578B"},{default:u(()=>[l(r(n.esType),1)]),_:2},1024),n.esAnalyzer?(s(),y(a,{key:0,label:"ES\u5206\u8BCD\u5668"},{default:u(()=>[l(r(n.esAnalyzer),1)]),_:2},1024)):d("",!0)]),_:2},1024))),256))]),_:2},1024)):d("",!0)]),_:2},1024)]),_:2},1024)):d("",!0),e.type===0&&o.descData.endpointType===5?(s(),y(a,{key:12,label:"RocketMQ\u5C5E\u6027\uFF1A"},{default:u(()=>[i(m,{bordered:"",size:"small",column:1,style:{"word-break":"break-all","word-wrap":"break-word"}},{default:u(()=>[i(a,{label:"\xA0\xA0Topic"},{default:u(()=>[l(r(e.mqTopic),1)]),_:2},1024),e.reserveCoveredData?(s(),y(a,{key:0,label:"\xA0\xA0\u5176\u4ED6\u5C5E\u6027"},{default:u(()=>[l(r(e.reserveCoveredData?"\u6D88\u606F\u4E2D\u5305\u542Bupdate\u4E4B\u524D\u6570\u636E":""),1)]),_:2},1024)):d("",!0)]),_:2},1024)]),_:2},1024)):d("",!0),e.type===0&&o.descData.endpointType===6?(s(),y(a,{key:13,label:"Kafka\u5C5E\u6027\uFF1A"},{default:u(()=>[i(m,{bordered:"",size:"small",column:1,style:{"word-break":"break-all","word-wrap":"break-word"}},{default:u(()=>[i(a,{label:"\xA0\xA0Topic"},{default:u(()=>[l(r(e.mqTopic),1)]),_:2},1024),e.reserveCoveredData?(s(),y(a,{key:0,label:"\xA0\xA0\u5176\u4ED6\u5C5E\u6027"},{default:u(()=>[l(r(e.reserveCoveredData?"\u6D88\u606F\u4E2D\u5305\u542Bupdate\u4E4B\u524D\u6570\u636E":""),1)]),_:2},1024)):d("",!0)]),_:2},1024)]),_:2},1024)):d("",!0),e.type===0&&o.descData.endpointType===7?(s(),y(a,{key:14,label:"RabbitMQ\u5C5E\u6027\uFF1A"},{default:u(()=>[i(m,{bordered:"",size:"small",column:1,style:{"word-break":"break-all","word-wrap":"break-word"}},{default:u(()=>[i(a,{label:"\xA0\xA0Topic"},{default:u(()=>[l(r(e.mqTopic),1)]),_:2},1024),e.reserveCoveredData?(s(),y(a,{key:0,label:"\xA0\xA0\u5176\u4ED6\u5C5E\u6027"},{default:u(()=>[l(r(e.reserveCoveredData?"\u6D88\u606F\u4E2D\u5305\u542Bupdate\u4E4B\u524D\u6570\u636E":""),1)]),_:2},1024)):d("",!0)]),_:2},1024)]),_:2},1024)):d("",!0),e.type===0&&o.descData.endpointType===8?(s(),y(a,{key:15,label:"HTTP\u63A5\u53E3\uFF1A"},{default:u(()=>[i(m,{bordered:"",size:"small",column:1,style:{"word-break":"break-all","word-wrap":"break-word"}},{default:u(()=>[i(a,{label:"\xA0\xA0\u6570\u636E\u53C2\u6570\u540D\u79F0"},{default:u(()=>[l(r(e.httpParameterName),1)]),_:2},1024),e.httpReserveRawData?(s(),y(a,{key:0,label:"\xA0\xA0\u5176\u4ED6\u5C5E\u6027"},{default:u(()=>[l(r(e.httpReserveRawData?"\u6D88\u606F\u4E2D\u5305\u542Bupdate\u4E4B\u524D\u6570\u636E":""),1)]),_:2},1024)):d("",!0)]),_:2},1024)]),_:2},1024)):d("",!0),e.type===1?(s(),y(a,{key:16,label:"Lua\u811A\u672C"},{default:u(()=>[i(p,{value:e.luaScript,"onUpdate:value":n=>e.luaScript=n,autosize:"true",style:{color:"green",cursor:"text"},disabled:"true"},null,8,["value","onUpdate:value"])]),_:2},1024)):d("",!0)]),_:2},1024))),256)),q]),_:1})]),_:1})]),_:1},16,["onRegister","title","onCancel"])}var ue=N(z,[["render",J]]);export{ue as default};
