var x=Object.defineProperty,L=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var h=(o,s,e)=>s in o?x(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e,f=(o,s)=>{for(var e in s||(s={}))b.call(s,e)&&h(o,e,s[e]);if(B)for(var e of B(s))A.call(s,e)&&h(o,e,s[e]);return o},j=(o,s)=>L(o,R(s));var u=(o,s,e)=>new Promise((r,n)=>{var l=a=>{try{i(e.next(a))}catch(d){n(d)}},c=a=>{try{i(e.throw(a))}catch(d){n(d)}},i=a=>a.done?r(a.value):Promise.resolve(a.value).then(l,c);i((e=e.apply(o,s)).next())});import{B as T,a as C}from"./index.24728625.js";import{f as q,t as D,p as S,b as $}from"./endpoint.data.75dd7889.js";import{B as O,h as U}from"./useForm.d0a5ee18.js";import{_ as V,h as z}from"./index.c0a3bc85.js";import{A as I,z as g,u as m,y as N,a0 as F,B as P,a1 as W,a5 as k,k as _,a4 as G,ad as H}from"./vendor.52d192f7.js";import"./useWindowSizeFn.34f605a6.js";/* empty css               *//* empty css              *//* empty css               *//* empty css               */import"./index.1c6370f0.js";/* empty css               *//* empty css                */import"./index.1c8e4638.js";import"./download.0ca988cf.js";const J=I({name:"RocketmqEditModal",components:{BasicModal:T,BasicForm:O},emits:["success","register"],setup(o,{emit:s}){const e=g(!0),r=g("");let n=g(!1);const{createSuccessModal:l}=z(),[c,{setFieldsValue:i,resetFields:a,validate:d}]=U({labelWidth:120,schemas:q,showActionButtonGroup:!1,actionColOptions:{span:23}}),[v,{setModalProps:p,closeModal:w}]=C(t=>u(this,null,function*(){yield a(),p({confirmLoading:!1,width:1e3,minHeight:300}),e.value=!!(t==null?void 0:t.isUpdate),m(e)&&(r.value=t.record.id,yield i(f({},t.record)))})),M=N(()=>m(e)?"\u7F16\u8F91Rocketmq\u7AEF\u70B9":"\u65B0\u589ERocketmq\u7AEF\u70B9");function y(){return u(this,null,function*(){const t=yield d();n.value=!0;try{yield D(t),l({title:"\u63D0\u793A",content:"\u8FDE\u63A5\u6210\u529F"})}finally{n.value=!1}})}function E(){return u(this,null,function*(){try{const t=yield d();t.type=5,console.log(t),p({confirmLoading:!0}),m(e)?(t.id=r.value,yield S(t)):yield $(t),w(),s("success",{isUpdate:m(e),values:j(f({},t),{id:r.value})})}finally{p({confirmLoading:!1})}})}return{registerModal:v,registerForm:c,getTitle:M,linkTestLoading:n,handleLinkTest:y,handleSubmit:E}}}),K=H("\u6D4B\u8BD5\u8FDE\u63A5");function Q(o,s,e,r,n,l){const c=F("BasicForm"),i=F("a-button"),a=F("BasicModal");return P(),W(a,G(o.$attrs,{onRegister:o.registerModal,title:o.getTitle,onOk:o.handleSubmit}),{insertFooter:k(()=>[_(i,{type:"dashed",onClick:o.handleLinkTest,loading:o.linkTestLoading},{default:k(()=>[K]),_:1},8,["onClick","loading"])]),default:k(()=>[_(c,{onRegister:o.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var pe=V(J,[["render",Q]]);export{pe as default};
