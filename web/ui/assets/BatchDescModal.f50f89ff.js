var F=(e,g,o)=>new Promise((d,m)=>{var B=a=>{try{c(o.next(a))}catch(n){m(n)}},s=a=>{try{c(o.throw(a))}catch(n){m(n)}},c=a=>a.done?d(a.value):Promise.resolve(a.value).then(B,s);c((o=o.apply(e,g)).next())});import{B as M,a as y}from"./index.24728625.js";import{d as k}from"./index.da94e228.js";import{_ as E}from"./index.c0a3bc85.js";import{A as j,z as R,y as T,a0 as f,B as r,a1 as _,a5 as t,k as u,ad as p,J as l,ac as C,D,ao as v,aa as w,a4 as $}from"./vendor.52d192f7.js";import"./useWindowSizeFn.34f605a6.js";const I=j({name:"BatchDescModal",components:{BasicModal:M},emits:["success","register"],setup(e,{emit:g}){const o=R({});let d=null;const[m,{setModalProps:B}]=y(n=>F(this,null,function*(){B({showOkBtn:!1,confirmLoading:!1,width:1e3,height:400});let i=yield k(n);i.status===4&&c(n),o.value=i})),s=T(()=>"\u5168\u91CF\u540C\u6B65\u8BE6\u60C5");function c(n){d=setInterval(()=>{k(n).then(i=>{o.value=i})},1e3)}function a(){d&&(clearInterval(d),d=null),g("success",{})}return{registerModal:m,descData:o,getTitle:s,onCancel:a}}}),N=p("\u5168\u91CF\u540C\u6B65\u4E2D"),z=p("\u5168\u91CF\u540C\u6B65\u7ED3\u675F");function P(e,g,o,d,m,B){const s=f("a-descriptions-item"),c=f("a-progress"),a=f("a-tag"),n=f("a-descriptions"),i=f("BasicModal");return r(),_(i,$(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,onCancel:e.onCancel}),{default:t(()=>[u(n,{bordered:"",column:1,size:"small",style:{"word-break":"break-all","word-wrap":"break-word"}},{default:t(()=>[u(s,{label:"\u7BA1\u9053"},{default:t(()=>[p(l(e.descData.pipelineName),1)]),_:1}),u(s,{label:"\u72B6\u6001"},{default:t(()=>[e.descData.status===4?(r(),_(c,{key:0,percent:e.descData.batchPercent},null,8,["percent"])):C("",!0),e.descData.status===4?(r(),_(a,{key:1,color:"blue"},{default:t(()=>[N]),_:1})):C("",!0),e.descData.status===5?(r(),_(a,{key:2,color:"pink"},{default:t(()=>[z]),_:1})):C("",!0)]),_:1}),u(s,{label:"\u5F00\u59CB\u65F6\u95F4"},{default:t(()=>[p(l(e.descData.batchStartTime),1)]),_:1}),u(s,{label:"\u7ED3\u675F\u65F6\u95F4"},{default:t(()=>[p(l(e.descData.batchEndTime),1)]),_:1}),u(s,{label:"\u6570\u636E\u603B\u91CF"},{default:t(()=>[(r(!0),D(w,null,v(e.descData.totalCounters,(h,b)=>(r(),D("div",null,l(b+1)+": "+l(h),1))),256))]),_:1}),u(s,{label:"\u540C\u6B65\u6761\u6570"},{default:t(()=>[(r(!0),D(w,null,v(e.descData.insertCounters,(h,b)=>(r(),D("div",null,l(b+1)+": "+l(h),1))),256))]),_:1}),u(s,{label:"\u6D88\u606F"},{default:t(()=>[e.descData.message!=""?(r(),_(a,{key:0,color:"red"},{default:t(()=>[p(l(e.descData.message),1)]),_:1})):C("",!0)]),_:1})]),_:1})]),_:1},16,["onRegister","title","onCancel"])}var W=E(I,[["render",P]]);export{W as default};
