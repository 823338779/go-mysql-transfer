import{A as v,z as d,S as y,$ as L,i as T,a0 as C,B as n,D as a,aa as D,ao as k,F as E,G as R,k as o,u as e,a5 as i,ad as u,J as p}from"./vendor.52d192f7.js";import S from"./DetailModal.b817ea90.js";import{u as B,B as V}from"./useTable.35e7adb4.js";import{T as A}from"./useForm.d0a5ee18.js";import{b as F}from"./index.24728625.js";import{b as I,aK as M}from"./index.c0a3bc85.js";import{getColumns as $}from"./data.4732de75.js";import"./index.d54fe370.js";import"./index.1c6370f0.js";import"./index.cd360e12.js";/* empty css               *//* empty css               */import"./useWindowSizeFn.34f605a6.js";import"./useContentViewHeight.26794800.js";/* empty css               *//* empty css                *//* empty css               *//* empty css               */import"./useSortable.96f14e96.js";/* empty css               *//* empty css              *//* empty css               */import"./index.1c8e4638.js";import"./download.0ca988cf.js";const z={class:"p-4"},N=["src"],pe=v({setup(G){const l=d(),c=d([]),{t:r}=I(),f=M(),[j,{setTableData:g}]=B({title:r("sys.errorLog.tableTitle"),columns:$(),actionColumn:{width:80,title:"Action",dataIndex:"action",slots:{customRender:"action"}}}),[x,{openModal:b}]=F();y(()=>f.getErrorLogInfoList,t=>{L(()=>{g(T(t))})},{immediate:!0});function _(t){l.value=t,b(!0)}function h(){throw new Error("fire vue error!")}function w(){c.value.push(`${new Date().getTime()}.png`)}return(t,H)=>{const m=C("a-button");return n(),a("div",z,[(n(!0),a(D,null,k(c.value,s=>E((n(),a("img",{key:s,src:s},null,8,N)),[[R,!1]])),128)),o(S,{info:l.value,onRegister:e(x)},null,8,["info","onRegister"]),o(e(V),{onRegister:e(j),class:"error-handle-table"},{toolbar:i(()=>[o(m,{onClick:h,type:"primary"},{default:i(()=>[u(p(e(r)("sys.errorLog.fireVueError")),1)]),_:1}),o(m,{onClick:w,type:"primary"},{default:i(()=>[u(p(e(r)("sys.errorLog.fireResourceError")),1)]),_:1})]),action:i(({record:s})=>[o(e(A),{actions:[{label:e(r)("sys.errorLog.tableActionDesc"),onClick:_.bind(null,s)}]},null,8,["actions"])]),_:1},8,["onRegister"])])}}});export{pe as default};
